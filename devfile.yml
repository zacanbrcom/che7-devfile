metadata:
  name: MyMainframetack
components:
  - type: chePlugin
    reference: >-
      https://raw.githubusercontent.com/zacanbrcom/che7-devfile/release-0.11.1/vsixdevfile.yaml
    alias: cobol-language-support
  - type: chePlugin
    reference: 'https://github.com/eclipse/che-che4z/raw/1.0.0/plugins/cobol.yaml'
    alias: cobol
  - type: chePlugin
    reference: >-
      https://github.com/eclipse/che-che4z/raw/1.0.0/plugins/explorer-for-endevor.yaml
    alias: explorer-for-endevor
  - id: eclipse/che-theia/7.3.3
    type: cheEditor
  - mountSources: true
    referenceContent: |
      kind: List
      items:
       -
        apiVersion: v1
        kind: Pod
        metadata:
         name: zowe
        spec:
         volumes:
          - name: zowe
            persistentVolumeClaim:
              claimName: zowe-claim
          - name: keystore
            persistentVolumeClaim:
              claimName: keystore-claim
         containers:
          -
           image: 'docker-release-candidate-local.artifactory-lvn.broadcom.net/zowe-explorer-plugin:2020-03-18T12-56-38'
           env:
            - name: THEIA_PLUGINS
              value: local-dir:///plugins
           name: zowe-explorer
           resources:
            limits:
             memory: 512Mi
           volumeMounts:
            - mountPath: /home/theia/.zowe
              name: zowe
            - mountPath: /home/theia/.local/share/keyrings
              name: keystore
          -
           image: 'docker-release-candidate-local.artifactory-lvn.broadcom.net/cli-mainframe-basic-stack:2020-03-06T15-55-37'
           env:
            - name: ZOWE_CLI_HOME
              value: /home/user/.zowe
           name: cli
           resources:
            limits:
             memory: 1024Mi
           volumeMounts:
            - mountPath: /projects
              name: projects
            - mountPath: /home/user/.zowe
              name: zowe
            - mountPath: /home/user/.local/share/keyrings
              name: keystore
         initContainers:
          -
           name: plugin-container
           image: 'docker-release-candidate-local.artifactory-lvn.broadcom.net/cli-mainframe-basic-plugins:2020-03-06T15-55-37'
           command: ["/bin/sh", "-c", "if [ -z \"$(ls -1A /.zowe)\" ]; then cp -r /.zowe_init/* /.zowe; fi"]
           volumeMounts:
            - mountPath: /.zowe
              name: zowe
       -
        apiVersion: v1
        kind: PersistentVolumeClaim
        metadata:
         name: keystore-claim
        spec:
         accessModes:
          - ReadWriteOnce
         resources:
           requests:
             storage: 16Mi
       -
        apiVersion: v1
        kind: PersistentVolumeClaim
        metadata:
         name: zowe-claim
        spec:
         accessModes:
          - ReadWriteOnce
         resources:
           requests:
             storage: 128Mi
    type: kubernetes
    alias: zowe-cli
apiVersion: 1.0.0
